<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Online Shop</title>

<style>

body{
margin:0;
font-family:Arial;
background:#f1f3f6;
}

/* HEADER */

.header{
background:#2874f0;
padding:10px;
display:flex;
align-items:center;
gap:10px;
color:white;
}

.menu{
font-size:20px;
}

.search{
flex:1;
}

.search input{
width:100%;
padding:8px;
border:none;
border-radius:4px;
}

.cart{
font-size:20px;
}

/* CATEGORY */

.category img{
width:100%;
display:block;
}

/* BANNER */

.banner img{
width:100%;
display:block;
}

/* DEAL */

.deal{
background:white;
padding:12px;
display:flex;
justify-content:space-between;
align-items:center;
font-weight:bold;
}

/* PRODUCTS */

.products{
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;
padding:10px;
}

.card{
background:white;
padding:10px;
border-radius:6px;
}

.card img{
width:100%;
}

.name{
font-size:14px;
margin-top:5px;
}

.price{
font-weight:bold;
}

.mrp{
text-decoration:line-through;
color:gray;
font-size:12px;
}

</style>

</head>

<body>

<!-- HEADER -->

<div class="header">

<div class="menu">â˜°</div>

<div class="search">
<input placeholder="Search for Products, Brands and More">
</div>

<div class="cart">ðŸ›’</div>

</div>


<!-- CATEGORY IMAGE -->

<div class="category">
<img id="catImg">
</div>


<!-- BANNERS -->

<div class="banner" id="bannerList"></div>


<!-- DEAL SECTION -->

<div class="deal">

<span>Deals of the Day âŒš</span>

<span style="color:red;">SALE IS LIVE</span>

</div>


<!-- PRODUCTS -->

<div class="products" id="productGrid"></div>


<!-- FIREBASE -->

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBfA-mFODccLz13nLpFQFI5Q2qBNIS2_KI",
  authDomain: "flipkart-clone-ab903.firebaseapp.com",
  databaseURL: "https://flipkart-clone-ab903-default-rtdb.firebaseio.com",
  projectId: "flipkart-clone-ab903",
  storageBucket: "flipkart-clone-ab903.firebasestorage.app",
  messagingSenderId: "733319152647",
  appId: "1:733319152647:web:cb5943fc21d8676bad16a2"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);



/* CATEGORY IMAGE */

onValue(ref(db,"settings/category"),snap=>{

if(!snap.exists()) return;

catImg.src = snap.val().image;

});


/* BANNERS */

onValue(ref(db,"banners"),snap=>{

bannerList.innerHTML="";

snap.forEach(child=>{

let banner = child.val();

bannerList.innerHTML += `<img src="${banner.url}">`;

});

});


/* PRODUCTS */

onValue(ref(db,"products"),snap=>{

productGrid.innerHTML="";

snap.forEach(child=>{

let p = child.val();
let id = child.key;

productGrid.innerHTML += `

<a href="product-details.html?id=${id}" style="text-decoration:none;color:black">

<div class="card">

<img src="${p.image}">

<div class="name">${p.name}</div>

<div>

<span class="price">â‚¹${p.price}</span>
<span class="mrp">â‚¹${p.mrp}</span>

</div>

</div>

</a>

`;

});

});

</script>

</body>
</html>
