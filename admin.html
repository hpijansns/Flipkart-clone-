<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Admin Panel</title>

<style>

body{
font-family:Arial;
background:#f2f2f2;
margin:0;
padding:20px;
}

h1{
text-align:center;
}

.box{
background:white;
padding:15px;
margin-bottom:20px;
border-radius:10px;
}

input{
width:100%;
padding:10px;
margin:5px 0;
}

button{
padding:10px;
background:#2874f0;
color:white;
border:none;
cursor:pointer;
}

.product{
border:1px solid #ddd;
padding:10px;
margin-top:10px;
border-radius:6px;
}

.delete{
background:red;
}

#adminPanel{
display:none;
}

</style>

</head>

<body>

<!-- LOGIN -->

<div id="loginBox" class="box">

<h2>Admin Login</h2>

<input type="password" id="pass" placeholder="Enter Password">

<button onclick="login()">Login</button>

</div>


<!-- ADMIN PANEL -->

<div id="adminPanel">

<h1>Website Admin Panel</h1>


<!-- PRODUCT -->

<div class="box">

<h2>Add Product</h2>

<input id="pname" placeholder="Product Name">

<input id="pimg" placeholder="Image URL">

<input id="pmrp" placeholder="MRP">

<input id="pprice" placeholder="Price">

<input id="pdiscount" placeholder="Discount">

<input id="pdelivery" placeholder="Delivery">

<button onclick="addProduct()">Add Product</button>

</div>


<div class="box">

<h2>Products</h2>

<div id="productList"></div>

</div>


<!-- BANNER -->

<div class="box">

<h2>Banner</h2>

<input id="bannerUrl" placeholder="Banner URL">

<button onclick="addBanner()">Add Banner</button>

</div>


<!-- CATEGORY -->

<div class="box">

<h2>Categories Image</h2>

<input id="catImg" placeholder="Category Image URL">

<button onclick="saveCategory()">Save</button>

</div>


<!-- PAYMENT -->

<div class="box">

<h2>Payment Settings</h2>

<input id="paymentBanner" placeholder="Offer Banner URL">

<input id="phonepe" placeholder="PhonePe Icon URL">

<input id="paytm" placeholder="Paytm Icon URL">

<input id="gpay" placeholder="Google Pay Icon URL">

<input id="scanpay" placeholder="Scan Pay Icon URL">

<input id="upi" placeholder="UPI ID">

<button onclick="savePayment()">Save</button>

</div>

</div>


<!-- LOGIN SCRIPT -->

<script>

function login(){

let password="Pooja2005";

if(pass.value===password){

loginBox.style.display="none";
adminPanel.style.display="block";

}else{

alert("Wrong Password");

}

}

</script>


<!-- FIREBASE -->

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, set, push, onValue, remove } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBfA-mFODccLz13nLpFQFI5Q2qBNIS2_KI",
  authDomain: "flipkart-clone-ab903.firebaseapp.com",
  databaseURL: "https://flipkart-clone-ab903-default-rtdb.firebaseio.com",
  projectId: "flipkart-clone-ab903",
  storageBucket: "flipkart-clone-ab903.firebasestorage.app",
  messagingSenderId: "733319152647",
  appId: "1:733319152647:web:cb5943fc21d8676bad16a2"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);


/* ADD PRODUCT */

window.addProduct=function(){

const id=push(ref(db,"products"));

set(id,{

name:pname.value,
image:pimg.value,
mrp:pmrp.value,
price:pprice.value,
discount:pdiscount.value,
delivery:pdelivery.value

});

alert("Product Added");

}


/* LOAD PRODUCTS */

onValue(ref(db,"products"),(snap)=>{

productList.innerHTML="";

snap.forEach((child)=>{

let p=child.val();
let key=child.key;

productList.innerHTML+=`

<div class="product">

${p.name} - â‚¹${p.price}

<button onclick="deleteProduct('${key}')" class="delete">Delete</button>

</div>

`;

});

});


/* DELETE */

window.deleteProduct=function(id){

remove(ref(db,"products/"+id));

}


/* BANNER */

window.addBanner=function(){

set(push(ref(db,"banners")),{url:bannerUrl.value});

alert("Banner Added");

}


/* CATEGORY */

window.saveCategory=function(){

set(ref(db,"settings/category"),{

image:catImg.value

});

alert("Saved");

}


/* PAYMENT */

window.savePayment=function(){

set(ref(db,"settings/payment"),{

banner:paymentBanner.value,
phonepe:phonepe.value,
paytm:paytm.value,
gpay:gpay.value,
scanpay:scanpay.value,
upi:upi.value

});

alert("Saved");

}

</script>

</body>
</html>
